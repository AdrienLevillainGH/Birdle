<!DOCTYPE html>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lexend+Deca:wght@100..900&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.4/font/bootstrap-icons.min.css">
<html lang="en">
<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FZ2J83F5LD"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FZ2J83F5LD');
    </script>

    <script src="birdle.js" defer></script>

    <link rel="stylesheet"href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css" />

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <meta charset="UTF-8">
    <title>ü¶ú BirdL</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>


<!-- FIXED HEADER (matches your CSS .top-buttons rules) -->
<div class="top-buttons">

    <button id="menuBtn" class="icon-btn" title="Menu">
    <i class="bi bi-list"></i>
    </button>

    <button id="rulesBtn" class="icon-btn" title="Rules">
    <i class="bi bi-question"></i>
    </button>

    <!-- <button id="themeBtn" class="icon-btn" title="Toggle theme">
    <i class="bi bi-lightbulb"></i>
    </button> -->

    <button id="langBtn" class="icon-btn" title="Change language">
    <span id="langIcon" class="fi fi-gb"></span>
    </button>

    <select id="langSelect" style="display:none;"></select>

    <div id="langMenu" class="lang-menu hidden"></div>

</div>

<div id="menuSheet" class="menu-sheet">
  <div class="menu-sheet-content">
    <div id="openFaq">Learn More (FAQ)</div>
    <div class="info-footer">Made by Adrien Levillain<br>Contact: birdldaily@gmail.com</div>
  </div>
</div>


<!-- FINAL RESULT MODAL -->
<div id="finalModal" class="modal-overlay hidden">

  <div class="modal-content">
      <button id="closeFinal" class="close-btn">
          <i class="bi bi-x-lg"></i>
      </button>

      <h2>Today's mystery bird was...</h2>

      <div id="finalBirdBox" style="text-align:center; margin-top:15px;"></div>

        <button id="bowLinkBtn" class="modal-btn botw-btn">Birds of the World</button>
        <button id="shareBtn" class="modal-btn share-btn">Share Result</button>
        <div id="nextBirdleTimer" class="next-birdle-timer">Next BirdL: <span id="countdown">--:--:--</span></div>
  </div>

</div>

<!-- MENU PANEL -->

<div id="faqModal" class="modal-overlay hidden">
  <div class="modal-content">

    <button id="closeFaq" class="close-btn">
      <i class="bi bi-x-lg"></i>
    </button>

    <h2>Learn More (FAQ)</h2>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        How does the game work ?
      </div>
      <div class="faq-answer">
        Every day, 100 birds are randomly drawn from a larger pool.
        Among these birds, only one is the mystery bird. You have 10 tries to find it.
        I also implemented some rules to ensure that the game is always balanced,
        but I should not reveal more.
        <br><br>
        Each guess gives you hints about the mystery bird‚Äôs attributes.
        Using the dice, you randomly pick one bird.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        Are the birds' attributes reliable ?
      </div>
      <div class="faq-answer">
        Information on birds is extracted from the AVONET and BIRDBASE databases,
        with the exception of the beak length index, which I computed myself.
        These databases are open access and have been the subject of scientific publications
        (Tobias et al., 2022; ≈ûekercioƒülu et al., 2025).
        <br><br>
        However, I had to simplify some attributes in order to make the game playable (Habitat, Primary Diet, Realm and Nest).
        When an attribute is heavily segmented, the player becomes less likely to receive
        meaningful hints with each guess.
        <br><br>
        For instance, the BIRDBASE database classifies habitat into 15 categories.
        As a result, a player could use all 10 guesses and still ignore the correct one.
        I therefore reclassified habitats into five categories:
        Marine, Wetland, Forest, Grassland, and Dry plains.
        As an example, the new ‚ÄúDry plains‚Äù category includes the following habitats: plains, shrub and desert.

        <br><br>
        Tobias, J. A., Sheard, C., Pigot, A. L., Devenish, A. J. M., Yang, J., Sayol, F., Neate-Clegg, M. H. C., Alioravainen, N., Weeks, T. L., Barber, R. A., Walkden, P. A., MacGregor, H. E. A., Jones, S. E. I., Vincent, C., Phillips, A. G., Marples, N. M., Monta√±o-Centellas, F. A., Leandro-Silva, V., Claramunt, S., ‚Ä¶ Schleuning, M. (2022). AVONET: morphological, ecological and geographical data for all birds. Ecology Letters, 25(3), 581‚Äì597. https://doi.org/10.1111/ele.13898
        <br><br>
        ≈ûekercioƒülu, √á. H., Kittelberger, K. D., Mota, F. M. M., Buxton, A. N., Orton, N., DeNiro, A., Buechley, E. R., Horns, J. J., Blount, J. D., Socci, J., & Neate-Clegg, M. H. C. (2025). BIRDBASE: A Global Dataset of Avian Biogeography, Conservation, Ecology and Life History Traits. Scientific Data, 12(1), 1558. https://doi.org/10.1038/s41597-025-05615-3

      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        How were the birds chosen ?
      </div>
      <div class="faq-answer">
        First, only birds for which reliable, published data were available
        for all relevant attributes were selected.
        <br><br>
        Second, I tried to ensure that each attribute is as balanced as possible.
        For example, ~60% of known bird species are Passeriformes,
        which would result in a very difficult and rather boring game.
        I therefore ensured that no avian order is over-represented.
        This logic also applies to other attributes.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        What does the Beak attribute represent ?
      </div>
      <div class="faq-answer">
        The Beak attribute is an index of beak length relative to a bird‚Äôs body mass.
        It correspond to the intuitive perception of its length.
        The higher the value, the longer the beak.
        It ranges from 0 to 1.
        <br><br>
        This index was computed using AVONET data on bird body mass and beak length. Briefly, I used the residuals of a linear regression between body mass and beak length, which I then converted into an index ranging from 0 to 1.
        <br><br>
        Model used: lm(log(Beak Length) ~ log(Mass)).<br>
        R¬≤ = 0.61, p-value &lt; 0.001, n = 10.700
        <br><br>

        Note that I did not use body size but rather body mass here. This is because tarsus length and wing length are the only measures of body size available for most birds.
        These measure are less intuitive and can be strongly influenced by species-specific biology (e.g., wetland birds have long tarsi, flightless birds have short wings...).
        <br><br>

      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        Why are credits displayed in this way ?
      </div>
      <div class="faq-answer">
        Bird images are imported from the Macaulay Library. 
        For legal reasons, I have to use the embed function provided by the Macaulay Library, which restricts how they can be displayed.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        Why are some languages not supported ?
      </div>
      <div class="faq-answer">
        Translating this game in different languages would take an ridiculous amount of time. I therefore only provide a translation for the bird names.
        <br><br>
        I used the Birds of the World database to extract bird names in as many languages
        as possible.
        Unfortunately, I can only include languages for which the dataset is complete
        and contains no missing entries.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        Who am I ?
      </div>
      <div class="faq-answer">
    I am a PhD in ecology and physiology.
    I recently published my PhD thesis and I developped this game as a side project.

      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question">
        <i class="bi bi-caret-right-fill"></i>
        Any questions ?
      </div>
      <div class="faq-answer">
    This game is not perfect by any means. If you have feedback, suggestions, or encounter any issues, please feel free to contact me at the following email address: birdldaily@gmail.com.
      </div>
    </div>

  </div>
</div>


<!-- RULES PANEL -->
<div id="rulesModal" class="modal-overlay hidden">

  <div class="modal-content">
      <button id="closeRules" class="close-btn">
          <i class="bi bi-x-lg"></i>
      </button>

      <h2>HOW TO PLAY?</h2>
      <h3>Guess the bird in 10 tries.</h3>
      <p class="rules-text"><i class="bi bi-dice-5-fill"></i> Clicking the dice randomly guess a bird.</p>
      <p class="rules-text">Each guess reveal the attributes of birds. <span style="font-weight:600;">Select any attribute to learn more.</p>

      <div class="rules-attribute-grid">
          <div class="rules-attr-tile" data-attr="taxa">Taxa</div>
          <div class="rules-attr-tile" data-attr="mass">Mass</div>
          <div class="rules-attr-tile" data-attr="beak">Beak</div>
          <div class="rules-attr-tile" data-attr="realm">Realm</div>
          <div class="rules-attr-tile" data-attr="habitat">Habitat</div>
          <div class="rules-attr-tile" data-attr="migration">Migration</div>
          <div class="rules-attr-tile" data-attr="nest">Nest</div>
          <div class="rules-attr-tile" data-attr="diet">Diet</div>
      </div>

      <!-- EXPANDED ATTRIBUTE PANEL -->
      <div id="rulesDetails" class="rules-details hidden"></div>

  </div>

</div>

<!-- LANDING SCREEN -->
<div id="landingScreen" class="landing-screen">
    <div class="landing-content">
        <h1 class="landing-title">ü¶ú BirdL</h1>
        <p class="landing-subtitle">10 guesses, 100 random birds</p>
        <p class="landing-subtitle">Can you find today's mystery bird?</p>

        <button id="startPlayBtn" class="landing-play-btn">
            PLAY
        </button>
    </div>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" class="hidden">

<div class="hero">

    <div id="search-block">
        <div id="scoreBanner" class="score-banner hidden">
  <div id="scoreText" class="score-line"></div>

  <div class="score-actions">
    <span class="score-actions-label">Share result</span>

    <button id="copyScoreBtn" class="icon-btn score-action-btn" title="Copy score">
      <i class="bi bi-copy"></i>
    </button>

    <button id="shareScoreBtn" class="icon-btn score-action-btn" title="Share score">
      <i class="bi bi-share"></i>
    </button>
  </div>

</div>

        <div class="input-row">
            <div class="autocomplete-container">
            <!-- SEARCH ICON (left) -->
            <span class="search-icon">
    <i class="bi bi-search"></i>
  </span>

  <input id="guessInput" type="text" placeholder="Type or scroll..." autocomplete="off">

  
  <!-- DICE BUTTON (right) -->
  <button id="randomBtn" class="input-icon-btn">
    <i class="bi bi-dice-5-fill"></i>
  </button>
</div>
        </div>

        <div id="status">Guesses remaining...</div>
    </div>
</div>



<div id="history"></div>
<div id="reveal"></div>

<!-- MATCH LEGEND (always visible) -->
<div id="matchLegend" class="match-legend">
  <div class="legend-tiles">
    <div class="legend-tile wrong">No match</div>
    <div class="legend-tile partial">Close match</div>
    <div class="legend-tile correct">Match</div>
  </div>

  <div class="legend-text">
    Find the mystery bird in 10 tries.<br>
    Use the matching attributes for next guesses.<br>
    Click the '?' icon if you need any help.
  </div>
</div>

</div>

</body>
</html>
